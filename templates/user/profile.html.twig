{% extends 'base.html.twig' %}

{% block body %}
    <div class=" gap-2 box d-flex flex-wrap">

        <a class="btn blue-box" href="{{ path('app_user_update', {id:app.user.id}) }}">Edit my information</a>
        <a class="btn blue-box" href="{{ path('app_create_product') }}">Create a product</a>
        <a class="btn blue-box" href="{{ path('app_create_product') }}">Show my history</a>
    </div>

{#    show all products of the current user#}

    <h3 class="text-center mt-5">Your products</h3>
    <div class="row mx-3 justify-content-center">
        {% for product in products %}
            <div class="product box yellow-box mt-4 col-md-3">
                <a href="{{ path('app_product_show', {id: product.id}) }}">
                    <p class="text-center mt-2"><img src={{ asset('build/images/exchange.png') }}></p>
                    <h2>{{ product.title}}</h2>
                    <div class="mw-100 overflow-hidden rounded-top">
                        <img class="w-75 mb-2" src="{{ (product.image ? vich_uploader_asset(product): asset('build/images/placeholder.png')) |imagine_filter('squared_thumbnail_small') }}" alt="{{ product.title }}">
                    </div>
                    <a class="btn blue-box mb-3" href="{{ path('app_product_exchanges', {id: product.id}) }}">Show the current exchanges</a>
                </a>
            </div>
        {% endfor %}
    </div>
    <div class="mt-6"></div>

{% endblock %}
